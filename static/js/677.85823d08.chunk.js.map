{"version":3,"file":"static/js/677.85823d08.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.tsx","pages/Home/Home.styled.tsx","pages/Movies/Movies.tsx","services/content-api.tsx"],"sourcesContent":["import styled from \"@emotion/styled\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\nimport { renderToStaticMarkup } from \"react-dom/server\";\r\n\r\nconst searchIconSVG = renderToStaticMarkup(<FaSearch />);\r\nconst searchIconDataURL = `data:image/svg+xml;base64,${btoa(searchIconSVG)}`;\r\n\r\nexport const SearchHeader = styled.div`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url(\"${searchIconDataURL}\");\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Ul = styled.ul`\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  flex-wrap: wrap;\r\n  width: 100%;\r\n  list-style: none;\r\n`;\r\n\r\nexport const Li = styled.li`\r\n  position: relative;\r\n  text-align: center;\r\n  width: 300px;\r\n  transition: transform 0.3s ease;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nexport const MovieBackdrop = styled.div`\r\n  list-style: none;\r\n  text-decoration: none;\r\n  width: 100%;\r\n  height: 450px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const MovieInfo = styled.div`\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  color: white;\r\n\r\n  border-radius: 5px;\r\n  padding: 5px 10px;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n`;\r\n\r\nexport const ReleaseDate = styled.div`\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 10px;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  padding: 5px 10px;\r\n  border-radius: 5px;\r\n  color: white;\r\n  font-size: 12px;\r\n`;\r\ninterface VoteAverageProps {\r\n  voteAverage: number;\r\n}\r\n\r\nconst getBorderColor = (voteAverage: number) => {\r\n  if (voteAverage >= 8) return \"#4CAF50\"; // green\r\n  if (voteAverage >= 6) return \"#FFC107\"; // yellow\r\n  return \"#F44336\"; // red\r\n};\r\n\r\nconst getRingSize = (voteAverage: number) => {\r\n  return 30 + voteAverage * 2;\r\n};\r\n\r\nexport const VoteAverage = styled.div<VoteAverageProps>`\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: ${(props) => getRingSize(props.voteAverage)}px;\r\n  height: ${(props) => getRingSize(props.voteAverage)}px;\r\n  border-radius: 50%;\r\n  border: 5px solid ${(props) => getBorderColor(props.voteAverage)};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: white;\r\n`;\r\n","import React, { useState, useEffect, ChangeEvent, FormEvent } from \"react\";\r\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\r\nimport { SearchHeader, Form, Button, Input } from \"./Movies.styled\";\r\nimport { getSearchMovies } from \"../../services/content-api\";\r\nimport { Loading } from \"notiflix/build/notiflix-loading-aio\";\r\nimport {\r\n  Ul,\r\n  Li,\r\n  MovieBackdrop,\r\n  MovieInfo,\r\n  VoteAverage,\r\n  ReleaseDate,\r\n} from \"../Home/Home.styled\";\r\n\r\nimport { Movie, SearchMoviesResponse } from \"../../models\";\r\n\r\nconst Movies: React.FC = () => {\r\n  const [query, setQuery] = useState<string>(\"\");\r\n  const [movies, setMovies] = useState<Movie[]>([]);\r\n  const [getted, setGetted] = useState<boolean>(false);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const queryS = searchParams.get(\"query\") ?? \"\";\r\n\r\n  useEffect(() => {\r\n    if (queryS) {\r\n      getSearchMovies(queryS).then((moveis: SearchMoviesResponse) => {\r\n        setMovies(moveis.results);\r\n      });\r\n    }\r\n  }, [queryS]);\r\n\r\n  const location = useLocation();\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setQuery(e.currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    const nextParams: any = query !== \"\" ? { query } : {};\r\n    setSearchParams(nextParams);\r\n    Loading.circle(\"Loading...\");\r\n    getSearchMovies(query).then((moveis: SearchMoviesResponse) => {\r\n      setMovies(moveis.results);\r\n\r\n      setGetted(true);\r\n    });\r\n    setQuery(\"\");\r\n    Loading.remove();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SearchHeader>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Button type=\"submit\"></Button>\r\n\r\n          <Input\r\n            onChange={handleChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search movies\"\r\n            name=\"query\"\r\n            value={query}\r\n            required\r\n          />\r\n        </Form>\r\n      </SearchHeader>\r\n      {getted && movies.length === 0 && (\r\n        <p>We don't have any movies for this query</p>\r\n      )}\r\n      {movies.length > 0 && (\r\n        <Ul>\r\n          {movies.map(\r\n            ({ id, title, poster_path, release_date, vote_average }) => (\r\n              <Li key={id}>\r\n                <Link to={`/movies/${id}`} state={{ from: location }}>\r\n                  <MovieBackdrop\r\n                    style={{\r\n                      backgroundImage: `url(${\r\n                        \"https://image.tmdb.org/t/p/w780\" + poster_path\r\n                      })`,\r\n                    }}\r\n                  >\r\n                    <VoteAverage voteAverage={vote_average}>\r\n                      {vote_average.toFixed(1)}\r\n                    </VoteAverage>\r\n                    <MovieInfo>{title}</MovieInfo>\r\n                    <ReleaseDate>\r\n                      {new Date(release_date).toLocaleDateString()}\r\n                    </ReleaseDate>\r\n                  </MovieBackdrop>\r\n                </Link>\r\n              </Li>\r\n            )\r\n          )}\r\n        </Ul>\r\n      )}\r\n      {/* <ul>\r\n        {movies.length > 1 &&\r\n          movies.map(({ id, title }) => (\r\n            <li key={id}>\r\n              <Link to={`/movies/${id}`} state={{ from: location }}>\r\n                {title}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n      </ul> */}\r\n    </>\r\n  );\r\n};\r\nexport default Movies;\r\n","import {\r\n  Movie,\r\n  TrendingMoviesResponse,\r\n  SearchMoviesResponse,\r\n  MovieDetails,\r\n  MovieCredits,\r\n  MovieReviews,\r\n} from \"../models\";\r\n\r\n\r\nconst API_KEY = '?api_key=1bee1caa8eeb54a46f7cee2e958da6e1';\r\n\r\nexport const trendingMovies = async (): Promise<Movie[]> => {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/trending/movie/day${API_KEY}`\r\n  );\r\n  const data: TrendingMoviesResponse = await response.json();\r\n  return data.results;\r\n};\r\n\r\nexport const getSearchMovies = async (q: string): Promise<SearchMoviesResponse> => {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/search/movie${API_KEY}&query=${q}`\r\n  );\r\n  const data: SearchMoviesResponse = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getMovieDetails = async (id: string): Promise<MovieDetails> => {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}${API_KEY}`\r\n  );\r\n  const data: MovieDetails = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getMovieCredits = async (id: string): Promise<MovieCredits> => {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}/credits${API_KEY}`\r\n  );\r\n  const data: MovieCredits = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const getMovieReviews = async (id: string): Promise<MovieReviews> => {\r\n  const response = await fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}/reviews${API_KEY}`\r\n  );\r\n  const data: MovieReviews = await response.json();\r\n  return data;\r\n};\r\n"],"names":["searchIconSVG","renderToStaticMarkup","_jsx","FaSearch","searchIconDataURL","concat","btoa","SearchHeader","styled","div","_templateObject","_taggedTemplateLiteral","Form","form","_templateObject2","Button","button","_templateObject3","Input","label","_templateObject4","input","_templateObject5","Ul","ul","Li","li","MovieBackdrop","MovieInfo","ReleaseDate","getRingSize","voteAverage","VoteAverage","_templateObject6","props","getBorderColor","Movies","_searchParams$get","query","setQuery","useState","movies","setMovies","getted","setGetted","searchParams","setSearchParams","useSearchParams","queryS","get","useEffect","getSearchMovies","then","moveis","results","location","useLocation","_jsxs","_Fragment","children","onSubmit","e","preventDefault","Loading","circle","remove","type","onChange","currentTarget","value","autoComplete","autoFocus","placeholder","name","required","length","map","_ref","id","title","poster_path","release_date","vote_average","Link","to","state","from","style","backgroundImage","toFixed","Date","toLocaleDateString","API_KEY","async","response","fetch","q","json","getMovieDetails","getMovieCredits","getMovieReviews"],"sourceRoot":""}